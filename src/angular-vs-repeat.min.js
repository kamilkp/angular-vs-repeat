!function(e,t){"use strict";function n(){if("pageYOffset"in e)return{scrollTop:pageYOffset,scrollLeft:pageXOffset};var t,n,s=document,o=s.documentElement,i=s.body;return t=o.scrollLeft||i.scrollLeft||0,n=o.scrollTop||i.scrollTop||0,{scrollTop:n,scrollLeft:t}}function s(t,n){return t===e?"clientWidth"===n?e.innerWidth:e.innerHeight:t[n]}function o(t,s){return t===e?n()[s]:t[s]}function i(t,s,o){var i=t.getBoundingClientRect()[o?"left":"top"],l=s===e?0:s.getBoundingClientRect()[o?"left":"top"],r=i-l+(s===e?n():s)[o?"scrollLeft":"scrollTop"];return r}var l=-1!=navigator.appVersion.indexOf("Mac"),r="undefined"!=typeof e.onwheel?"wheel":"undefined"!=typeof e.onmousewheel?"mousewheel":"DOMMouseScroll",a=document.documentElement,c=a.matches?"matches":a.matchesSelector?"matchesSelector":a.webkitMatches?"webkitMatches":a.webkitMatchesSelector?"webkitMatchesSelector":a.msMatches?"msMatches":a.msMatchesSelector?"msMatchesSelector":a.mozMatches?"mozMatches":a.mozMatchesSelector?"mozMatchesSelector":null,f=t.element.prototype.closest||function(e){for(var n=this[0].parentNode;n!==document.documentElement&&null!=n&&!n[c](e);)n=n.parentNode;return n&&n[c](e)?t.element(n):t.element()},d=t.module("vs-repeat",[]).directive("vsRepeat",["$compile",function(n){return{restrict:"A",scope:!0,require:"?^vsRepeat",controller:["$scope",function(e){this.$scrollParent=e.$scrollParent,this.$fillElement=e.$fillElement}],compile:function(a){var c=a.children().eq(0),d=c.attr("ng-repeat")||c.attr("data-ng-repeat"),u=c[0].outerHTML,p=/^\s*(\S+)\s+in\s+([\S\s]+?)(track\s+by\s+\S+)?$/.exec(d),v=p[1],m=p[2],h=p[3],x="$vs_collection",S={vsRepeat:"elementSize",vsOffsetBefore:"offsetBefore",vsOffsetAfter:"offsetAfter",vsExcess:"excess"};return a.empty(),e.getComputedStyle&&"absolute"===e.getComputedStyle(a[0]).position||a.css("position","relative"),{pre:function(a,c,d,p){function $(e,n){if(!A||A.length<1)return a[x]=[],C=0,y(0),void(a.sizesCumulative=[0]);if(C=A.length,T){a.sizes=A.map(function(e){var n=a.$new(!1);t.extend(n,e),n[v]=e;var s=d.vsSize||d.vsSizeProperty?n.$eval(d.vsSize||d.vsSizeProperty):a.elementSize;return n.$destroy(),s});var s=0;a.sizesCumulative=a.sizes.map(function(e){var t=s;return s+=e,t}),a.sizesCumulative.push(s)}else g();w(n)}function g(){R&&a.$$postDigest(function(){if(c[0].offsetHeight||c[0].offsetWidth)for(var e=c.children(),t=0;t<e.length;){if(null!=e[t].attributes["ng-repeat"]||null!=e[t].attributes["data-ng-repeat"]){e[t][Y]&&(a.elementSize=e[t][Y],w(),R=!1,a.$root&&!a.$root.$$phase&&a.$apply());break}t++}else var n=a.$watch(function(){(c[0].offsetHeight||c[0].offsetWidth)&&(n(),g())})})}function z(e){var t=e.currentTarget;(t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight)&&B.css("display","block")}function I(){"undefined"!=typeof d.vsAutoresize&&(R=!0,g(),a.$root&&!a.$root.$$phase&&a.$apply()),P()&&(a.$apply(),a.$broadcast("vsSetOffset-refresh"))}function w(e){F=void 0,U=void 0,V=C,_=0,P(e),y(T?a.sizesCumulative[C]:a.elementSize*C),a.$evalAsync(function(){a.$broadcast("vsSetOffset-refresh")}),a.$emit("vsRepeatReinitialized",a.startIndex,a.endIndex)}function y(e){if(E){if(O.css({width:a.offsetBefore+e+a.offsetAfter+"px",height:"100%"}),p&&p.$fillElement){var t=p.$fillElement[0].parentNode.querySelector("[ng-repeat]");t&&p.$fillElement.css({width:t.scrollWidth+"px"})}}else O.css({height:a.offsetBefore+e+a.offsetAfter+"px",width:"100%"}),p&&p.$fillElement&&(t=p.$fillElement[0].parentNode.querySelector("[ng-repeat]"),t&&p.$fillElement.css({height:t.scrollHeight+"px"}))}function M(){var e=s(H[0],D);e!==G&&(w(),a.$root&&!a.$root.$$phase&&(a.$apply(),a.$broadcast("vsSetOffset-refresh"))),G=e}function b(e){var t=!1;return void 0!==e&&"number"==typeof e&&(t=Math.max(e,0),H[0][X]!==t?(H[0][X]=t,L=!0):t=!1,a.$emit("vsRepeatScrolled",t)),t}function P(e){var t,n,l,r,f=o(H[0],X),d=s(H[0],D),u=c[0]===H[0]?0:i(c[0],H[0],E),p=!0,v=a.startIndex,m=a.endIndex;if(e&&void 0!==e.elementSize&&(a.elementSize=e.elementSize),e&&void 0!==e.scrollIndex){if("undefined"!=typeof a.scrollSettings&&(a.scrollSettings.scrollIndex=e.scrollIndex),T?(r=a.sizes[e.scrollIndex],l=a.sizesCumulative[e.scrollIndex]):(r=a.elementSize,l=e.scrollIndex*a.elementSize),void 0!==e.scrollIndexPosition)switch("undefined"!=typeof a.scrollSettings&&(a.scrollSettings.scrollIndexPosition=e.scrollIndexPosition),t=0,typeof e.scrollIndexPosition){case"number":t=e.scrollIndexPosition+a.offsetBefore;break;case"string":switch(e.scrollIndexPosition){case"top":t=a.offsetBefore;break;case"middle":t=(d-r)/2;break;case"bottom":t=d-r-a.offsetAfter;break;case"inview":case"inview#top":case"inview#middle":case"inview#bottom":case"inview#auto":H[0][X]<=l&&H[0][X]+d-r>=l?(p=!1,t=l-H[0][X]):(("inview#top"===e.scrollIndexPosition||"inview"===e.scrollIndexPosition)&&(t=a.offsetBefore),"inview#bottom"===e.scrollIndexPosition&&(t=d-r+a.offsetAfter),"inview#middle"===e.scrollIndexPosition&&(t=(d-r)/2),"inview#auto"===e.scrollIndexPosition&&(t=H[0][X]<=l?d-r+a.offsetAfter:a.offsetBefore));break;default:console.warn("Incorrect scrollIndexPosition string value")}break;default:console.warn("Incorrect scrollIndexPosition type")}else p=!1,t=T?a.sizesCumulative[e.scrollIndex]-H[0][X]:e.scrollIndex*a.elementSize-H[0][X];if(v=e.scrollIndex,T){for(;a.sizesCumulative[v]>a.sizesCumulative[e.scrollIndex]-t;)v--;for(n=Math.max(v,0),v=Math.max(Math.floor(v-a.excess/2),0),m=v;a.sizesCumulative[m]<a.sizesCumulative[n]-a.offsetBefore+d;)m++;m=Math.min(Math.ceil(m+a.excess/2),C)}else{for(;v*a.elementSize>e.scrollIndex*a.elementSize-t;)v--;n=Math.max(v,0),v=Math.max(Math.floor(v-a.excess/2),0),m=Math.min(v+Math.ceil(d/a.elementSize)+a.excess/2,C)}}else if(T){for(v=0;a.sizesCumulative[v]<f-a.offsetBefore-u;)v++;for(v>0&&v--,v=Math.max(Math.floor(v-a.excess/2),0),m=v;a.sizesCumulative[m]<f-a.offsetBefore-u+d;)m++;m=Math.min(Math.ceil(m+a.excess/2),C)}else v=Math.max(Math.floor((f-a.offsetBefore-u)/a.elementSize)-a.excess/2,0),m=Math.min(v+Math.ceil(d/a.elementSize)+a.excess,C);V=Math.min(v,V),_=Math.max(m,_),a.startIndex=q.latch?V:v,a.endIndex=q.latch?_:m,void 0!==e&&void 0!==e.scrollIndex&&void 0!==t&&p&&b(l-t);var h=!1;return null==F?h=!0:null==U&&(h=!0),h||(q.hunked?Math.abs(a.startIndex-F)>=a.excess/2||0===a.startIndex&&0!==F?h=!0:(Math.abs(a.endIndex-U)>=a.excess/2||a.endIndex===C&&U!==C)&&(h=!0):h=a.startIndex!==F||a.endIndex!==U),h&&(a[x]=A.slice(a.startIndex,a.endIndex),a.$emit("vsRepeatInnerCollectionUpdated",a.startIndex,a.endIndex,F,U),F=a.startIndex,U=a.endIndex),h}var C,B,O,k=t.element(u),A=[],E="undefined"!=typeof d.vsHorizontal,R=!d.vsRepeat,T=!!d.vsSize||!!d.vsSizeProperty,H=d.vsScrollParent?"window"===d.vsScrollParent?t.element(e):f.call(c,d.vsScrollParent):c,W=E?"left":"top",L=!1,q="vsOptions"in d?a.$eval(d.vsOptions):{},D=E?"clientWidth":"clientHeight",Y=E?"offsetWidth":"offsetHeight",X=E?"scrollLeft":"scrollTop";if(!("vsSize"in d)&&"vsSizeProperty"in d&&console.warn("vs-size-property attribute is deprecated. Please use vs-size attrubute which also accepts angular expressions."),0===H.length)throw"Specified scroll parent selector did not match any element";a.$scrollParent=H,T&&(a.sizesCumulative=[]),a.elementSize=+d.vsRepeat||s(H[0],D)||50,a.offsetBefore=0,a.offsetAfter=0,a.excess=2,a.scrollSettings={scrollIndex:0,scrollIndexPosition:"top"},a.$watch(d.vsScrollSettings,function(e){"undefined"!=typeof e&&(a.scrollSettings=e,w(a.scrollSettings))},!0),Object.keys(S).forEach(function(e){d[e]&&d.$observe(e,function(t){a[S[e]]=+t,w()})}),a.$watchCollection(m,function(e){A=e||[],$()}),k.attr("ng-repeat",v+" in "+x+(h?" "+h:"")).addClass("vs-repeat-repeated-element");var N=T?"(sizesCumulative[$index + startIndex] + offsetBefore)":"(($index + startIndex) * elementSize + offsetBefore)";k.attr("vs-set-offset",N),k.attr("vs-set-offset-positioning-property",W),n(k)(a),c.append(k),O=t.element('<div class="vs-repeat-fill-element"></div>').css({position:"relative","min-height":"100%","min-width":"100%"}),c.append(O),n(O)(a),a.$fillElement=O;var j={};l&&"window"!==d.vsScrollParent&&(B=t.element('<div class="vs-repeat-wheel-helper"></div>').on(r,function(e){e.preventDefault(),e.stopPropagation(),e.originalEvent&&(e=e.originalEvent),H[0].scrollLeft+=e.deltaX||-e.wheelDeltaX,H[0].scrollTop+=e.deltaY||-e.wheelDeltaY}).on("mousemove",function(e){(j.x!==e.clientX||j.y!==e.clientY)&&t.element(this).css("display","none"),j={x:e.clientX,y:e.clientY}}).css("display","none"),O.append(B)),a.startIndex=0,a.endIndex=0,H.on("scroll",function(){L?L=!1:P()&&(a.$apply(),a.$broadcast("vsSetOffset-refresh"))}),l&&H.on(r,z),t.element(e).on("resize",I),a.$on("$destroy",function(){t.element(e).off("resize",I)}),a.$on("vsRepeatTrigger",$),a.$on("vsRepeatResize",function(){R=!0,g()});var F,U,V,_;a.$on("vsRenderAll",function(){q.latch&&setTimeout(function(){var e=C;_=Math.max(e,_),a.endIndex=q.latch?_:e,a[x]=A.slice(a.startIndex,a.endIndex),U=a.endIndex,a.$apply(function(){a.$emit("vsRenderAllDone")})})});var G;a.$watch(function(){"function"==typeof e.requestAnimationFrame?e.requestAnimationFrame(M):M()})}}}}}]).directive("vsSetOffset",[function(){return function(e,t,n){function s(){t.css(o,e.$eval(n.vsSetOffset)+"px")}var o=n.vsSetOffsetPositioningProperty;s(),e.$on("vsSetSize-refresh",function(){e.$evalAsync(s)})}}]);t.element(document.head).append(["<style>.vs-repeat-wheel-helper{position: absolute;top: 0;bottom: 0;left: 0;right: 0;z-index: 99999;background: rgba(0, 0, 0, 0);}.vs-repeat-repeated-element{position: absolute;z-index: 1;}</style>"].join("")),"undefined"!=typeof module&&module.exports&&(module.exports=d.name)}(window,window.angular);