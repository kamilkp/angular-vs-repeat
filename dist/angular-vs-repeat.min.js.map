{"version":3,"sources":["angular-vs-repeat.js"],"names":["_toConsumableArray","arr","Array","isArray","i","arr2","length","from","_extends","Object","assign","target","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","_sliceIterator","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","err","_slicedToArray","TypeError","window","angular","closestElement","element","closest","matchingFunction","reduce","res","prop","_res","document","documentElement","selector","_el","el","parentNode","getWindowScroll","_ref","_document$documentEle","_ref2","_document$documentEle2","scrollTop","pageYOffset","scrollLeft","pageXOffset","body","getClientSize","sizeProp","innerWidth","innerHeight","attrDeprecated","attrname","$element","message","concat","console","warn","defaultOptions","latch","container","scrollParent","size","offsetBefore","offsetAfter","scrolledToBeginning","noop","scrolledToEnd","scrolledToBeginningOffset","scrolledToEndOffset","scrollMargin","horizontal","autoresize","hunked","hunkSize","vsRepeatModule","module","directive","$compile","$parse","restrict","scope","compile","compileElement","compileAttrs","compileRepeatContainer","querySelector","vsRepeatContainer","repeatContainerChildren","children","ngRepeatChild","eq","childCloneHtml","outerHTML","collectionName","forEach","_analyzeNgRepeatUsage2","options","opt","attr","indexOf","Error","analyzeNgRepeatUsage","originalNgRepeatAttr","ngRepeatExpression","isNgRepeatStart","_expressionMatches","exec","lhs","rhs","rhsSuffix","index","repeaterElement","empty","pre","$scope","$attrs","_$scope$$eval","_parseSize","getSize","parsed","String","item","vsRepeat","$eval","originalLength","repeatContainer","isDefined","childClone","childTagName","tagName","toLowerCase","originalCollection","$beforeContent","$afterContent","autosizingRequired","$scrollParent","clientSize","offsetSize","scrollSize","scrollPos","totalSize","sizesCumulative","debug","$debugParent","$debug","css","append","$on","remove","_prevStartIndex","_prevEndIndex","_minStartIndex","_maxEndIndex","_prevClientSize","measuredSize","refresh","_mapSize","getFromMeasured","reinitialize","hardSize","sizes","map","_hardSize","sum","$$postDigest","offsetHeight","offsetWidth","gotSomething","insideStartEndSequence","attributes","$root","$$phase","$digest","dereg","$watch","getLayoutProps","layoutProp","acc","scrollHandler","pos","updateInnerCollection","_ensureScrollIntegrity","onWindowResize","$emit","startIndex","endIndex","reinitOnClientHeightChange","ch","binaryFind","array","threshold","a","b","d","m","Math","floor","scrollProp","$scrollPosition","$clientSize","vsElement","scrollElement","isHorizontal","scrollOffset","getBoundingClientRect","__startIndex","__endIndex","requestAnimationFrame","expectedSize","compStyle","getComputedStyle","paddings","containerSize","Number","slice","relativeScroll","max","min","digestRequired","abs","triggerIndex","o1","o2","total","vsRepeatOptions","$watchCollection","newOpts","mergedOptions","JSON","stringify","coll","addClass","on","off","setTimeout","head","exports","name"],"mappings":"AAAA,SAASA,mBAAmBC,GAAO,GAAIC,MAAMC,QAAQF,GAAM,CAAE,IAAK,IAAIG,EAAI,EAAGC,EAAO,IAAIH,MAAMD,EAAIK,QAASF,EAAIH,EAAIK,OAAQF,IAAOC,EAAKD,GAAKH,EAAIG,GAAM,OAAOC,EAAe,OAAOH,MAAMK,KAAKN,GAE9L,SAASO,WAA2Q,OAA9PA,SAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIP,EAAI,EAAGA,EAAIQ,UAAUN,OAAQF,IAAK,CAAE,IAAIS,EAASD,UAAUR,GAAI,IAAK,IAAIU,KAAOD,EAAcJ,OAAOM,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQH,EAAOG,GAAOD,EAAOC,IAAY,OAAOH,IAA2BO,MAAMC,KAAMP,WAEhT,SAASQ,gBAAgBC,EAAKP,EAAKQ,GAAiK,OAApJR,KAAOO,EAAOZ,OAAOc,eAAeF,EAAKP,GAAOQ,MAAOA,EAAOE,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBL,EAAIP,GAAOQ,EAAgBD,EAE3M,SAASM,eAAe1B,EAAKG,GAAK,IAAIwB,KAAeC,GAAK,EAAUC,GAAK,EAAWC,OAAKC,EAAW,IAAM,IAAK,IAAiCC,EAA7BC,EAAKjC,EAAIkC,OAAOC,cAAmBP,GAAMI,EAAKC,EAAGG,QAAQC,QAAoBV,EAAKW,KAAKN,EAAGX,QAAYlB,GAAKwB,EAAKtB,SAAWF,GAA3DyB,GAAK,IAAoE,MAAOW,GAAOV,GAAK,EAAMC,EAAKS,EAAO,QAAU,IAAWX,GAAsB,MAAhBK,EAAW,QAAWA,EAAW,SAAO,QAAU,GAAIJ,EAAI,MAAMC,GAAQ,OAAOH,EAE3Y,SAASa,eAAexC,EAAKG,GAAK,GAAIF,MAAMC,QAAQF,GAAQ,OAAOA,EAAY,GAAIkC,OAAOC,YAAY3B,OAAOR,GAAQ,OAAO0B,eAAe1B,EAAKG,GAAa,MAAM,IAAIsC,UAAU,yDAQjL,SAAWC,EAAQC,GAgEjB,IAAIC,EAAiBD,EAAQE,QAAQ/B,UAAUgC,QAE/C,IAAKF,EAAgB,CACnB,IAAIG,GAAoB,UAAW,kBAAmB,gBAAiB,wBAAyB,YAAa,oBAAqB,aAAc,sBAAsBC,OAAO,SAAUC,EAAKC,GAC1L,IAAIC,EAEJ,OAAwB,QAAhBA,EAAOF,SAA0B,IAATE,EAAkBA,EAAOD,KAAQE,SAASC,gBAAkBH,EAAO,MAClG,MAEHN,EAAiB,SAAwBU,GAKvC,IAJA,IAAIC,EAEAC,EAAKtC,KAAK,GAAGuC,WAEVD,IAAOJ,SAASC,iBAAyB,MAANG,IAAeA,EAAGT,GAAkBO,IAC5EE,EAAKA,EAAGC,WAGV,OAAmB,QAAdF,EAAMC,SAAwB,IAARD,OAAiB,EAASA,EAAIR,GAAkBO,IAClEX,EAAQE,QAAQW,GAGlBb,EAAQE,WAInB,SAASa,IACP,IAAIC,EAAMC,EAAuBC,EAAOC,EAExC,MAAI,gBAAiBpB,GAEjBqB,UAAWrB,EAAOsB,YAClBC,WAAYvB,EAAOwB,cAKrBH,UAAoL,QAAxKJ,EAAwE,QAAhEC,EAAwBR,SAASC,gBAAgBU,iBAAiD,IAA1BH,EAAmCA,EAAwBR,SAASe,KAAKJ,iBAAgC,IAATJ,EAAkBA,EAAO,EACrNM,WAA2L,QAA9KJ,EAA2E,QAAlEC,EAAyBV,SAASC,gBAAgBY,kBAAmD,IAA3BH,EAAoCA,EAAyBV,SAASe,KAAKF,kBAAkC,IAAVJ,EAAmBA,EAAQ,GAIlO,SAASO,EAAcvB,EAASwB,GAC9B,OAAIxB,IAAYH,EACM,gBAAb2B,EAA6B3B,EAAO4B,WAAa5B,EAAO6B,YAG1D1B,EAAQwB,GAgCjB,SAASG,EAAeC,EAAUC,GAJlC,IAAiCA,EAAUC,EAAVD,EAKPA,EALiBC,EAKP,GAAGC,OAAOH,EAAU,yIAJtDI,QAAQC,KAAK,0BAA0BF,OAAOD,GAAUD,EAAS,IAOnE,IAAIK,GACFC,OAAO,EACPC,UAAW,KACXC,aAAc,KACdC,KAAM,KACNC,aAAc,EACdC,YAAa,EACbC,oBAAqB3C,EAAQ4C,KAC7BC,cAAe7C,EAAQ4C,KACvBE,0BAA2B,EAC3BC,oBAAqB,EACrBC,aAAc,EACdC,YAAY,EACZC,YAAY,EACZC,QAAQ,EACRC,SAAU,GAERC,EAAiBrD,EAAQsD,OAAO,gBAAiBC,UAAU,YAAa,WAAY,SAAU,SAAUC,EAAUC,GACpH,OACEC,SAAU,IACVC,OAAO,EACPC,QAAS,SAAiBC,EAAgBC,GACxC,IAAIC,EAAyB,sBAAuBD,EAAe9D,EAAQE,QAAQ2D,EAAe,GAAGG,cAAcF,EAAaG,oBAAsBJ,EAClJK,EAA0BH,EAAuBI,WACjDC,EAAgBF,EAAwBG,GAAG,GAC3CC,EAAiBF,EAAc,GAAGG,UAClCC,EAAiB,kBAEpB,SAAU,iBAAkB,iBAAkB,eAAgB,iBAAkB,gBAAiB,wBAAyB,8BAA+B,WAAY,kBAAkBC,QAAQ,SAAU3C,GACpMA,KAAYgC,GACdjC,EAAeC,EAAU+B,KAI7B,IACIa,EAAyB7E,eAzDnC,SAA8BK,GAG5B,IAFA,IAAIyE,GAAW,YAAa,iBAAkB,kBAAmB,wBAExDrF,EAAK,EAAGA,EAAKqF,EAAQjH,OAAQ4B,IAAM,CAC1C,IAAIsF,EAAMD,EAAQrF,GAElB,GAAIY,EAAQ2E,KAAKD,GACf,OAAQA,EAAK1E,EAAQ2E,KAAKD,GAA+B,GAAzBA,EAAIE,QAAQ,WAIhD,MAAM,IAAIC,MAAM,gEA6CgBC,CAAqBZ,GACkB,GAC/Da,EAAuBP,EAAuB,GAC9CQ,EAAqBR,EAAuB,GAC5CS,EAAkBT,EAAuB,GAIzCU,EAAqBvF,eAFD,kDAAkDwF,KAAKH,GAEpB,GACvDI,EAAMF,EAAmB,GACzBG,EAAMH,EAAmB,GACzBI,EAAYJ,EAAmB,GAEnC,GAAID,EAIF,IAHA,IAAIM,EAAQ,EACRC,EAAkBxB,EAAwBG,GAAGoB,GAED,MAAzCC,EAAgBb,KAAK,kBAA0E,MAA9Ca,EAAgBb,KAAK,uBAC3EY,IACAC,EAAkBxB,EAAwBG,GAAGoB,GAC7CnB,GAAkBoB,EAAgB,GAAGnB,UAKzC,OADAR,EAAuB4B,SAErBC,IAAK,SAAaC,EAAQ9D,EAAU+D,GAClC,IAAIC,EAEJ,SAASC,EAAWrB,GAClB,GAA4B,iBAAjBA,EAAQnC,KACjBmC,EAAQsB,QAAU,WAChB,OAAOtB,EAAQnC,UAEZ,CACL,IAAI0D,EAASzC,EAAO0C,OAAOxB,EAAQnC,OAEnCmC,EAAQsB,QAAU,SAAUG,GAC1B,OAAOF,EAAOL,EAAQrH,mBAAoB8G,EAAKc,MAKrDP,EAAOQ,UACL1B,QAAS/G,YAAawE,EAAoE,QAAnD2D,EAAgBF,EAAOS,MAAMR,EAAOO,iBAAyC,IAAlBN,EAA2BA,OAE/H,IAAIpB,EAAUkB,EAAOQ,SAAS1B,QAE9BqB,EAAWrB,GAEX,IAII4B,EAJAC,EAAkBxG,EAAQyG,UAAUX,EAAO7B,mBAAqBjE,EAAQE,QAAQ6B,EAAS,GAAGiC,cAAc8B,EAAO7B,oBAAsBlC,EACvI2E,EAAa1G,EAAQE,QAAQoE,GAC7BqC,EAAeD,EAAW,GAAGE,QAAQC,cACrCC,KAEAC,EAAiB/G,EAAQE,QAAQ,IAAMyG,EAAe,uCAAyCA,EAAe,KAC9GK,EAAgBhH,EAAQE,QAAQ,IAAMyG,EAAe,sCAAwCA,EAAe,KAC5GM,EAAsC,OAAjBtC,EAAQnC,KAC7B0E,EAAgBvC,EAAQpC,aAAwC,WAAzBoC,EAAQpC,aAA4BvC,EAAQE,QAAQH,GAAUE,EAAe5B,KAAKmI,EAAiB7B,EAAQpC,cAAgBiE,EAClKW,EAAaxC,EAAQ1B,WAAa,cAAgB,eAClDmE,EAAazC,EAAQ1B,WAAa,cAAgB,eAClDoE,EAAa1C,EAAQ1B,WAAa,cAAgB,eAClDqE,EAAY3C,EAAQ1B,WAAa,aAAe,YAGpD,IAFA4C,EAAOQ,SAASkB,UAAY,KAExBL,EAAcxJ,OAChB,KAAM,6DAMR,GAHAmI,EAAOQ,SAASa,cAAgBA,EAChCrB,EAAOQ,SAASmB,mBAEZ7C,EAAQ8C,MAAO,CACjB,IAAIC,EAAwC,WAAzB/C,EAAQpC,aAA4BvC,EAAQE,QAAQO,SAASe,MAAQ0F,EACpFS,EAAS3H,EAAQE,QAAQ,+CAC7ByH,EAAOC,IAAI,WAAqC,WAAzBjD,EAAQpC,aAA4B,QAAU,YACrEmF,EAAaG,OAAOF,GACpB9B,EAAOiC,IAAI,WAAY,WACrBH,EAAOI,WAIX,IAiLIC,EAAiBC,EAAeC,EAAgBC,EA2ChDC,EA5NAC,EAAe5G,EAAcyF,EAAc,GAAIC,IAAe,GA8BlE,SAASmB,KACFxB,GAAsBA,EAAmBpJ,OAAS,GACrDmI,EAAOrB,MACP+B,EAAiB,EACjBV,EAAOQ,SAASmB,iBAAmB,KAEnCjB,EAAiBO,EAAmBpJ,OAEhCiH,EAAQnC,KACV+F,IAEAC,KAIJC,IAGF,SAASF,IACP,IAAIG,EAA8B,EAAnB1K,UAAUN,aAA+B0B,IAAjBpB,UAAU,GAAmBA,UAAU,GAAK,KAC/E2K,EAAQ7B,EAAmB8B,IAAI,SAAUxC,GAC3C,IAAIyC,EAEJ,OAAkC,QAA1BA,EAAYH,SAAoC,IAAdG,EAAuBA,EAAYlE,EAAQsB,QAAQG,KAE3F0C,EAAM,EACVjD,EAAOQ,SAASmB,iBAAmB,GAAGvF,OAAO7E,mBAAmBuL,EAAMC,IAAI,SAAUpG,GAClF,OAAOsG,GAAOtG,MAIlB,SAASgG,IACHvB,EACFpB,EAAOkD,aAAa,WAClB,GAAIvC,EAAgB,GAAGwC,cAAgBxC,EAAgB,GAAGyC,YAAa,CAOrE,IALA,IAAI9E,EAAWqC,EAAgBrC,WAC3B3G,EAAI,EACJ0L,GAAe,EACfC,GAAyB,EAEtB3L,EAAI2G,EAASzG,QAAQ,CAC1B,GAAoD,MAAhDyG,EAAS3G,GAAG4L,WAAWnE,IAAiCkE,EAAwB,CAWlF,GAVKD,IACHb,EAAe,GAGjBa,GAAe,EAEX/E,EAAS3G,GAAG4J,KACdiB,GAAgBlE,EAAS3G,GAAG4J,KAG1BjC,EAOF,MANA,GAA+C,MAA3ChB,EAAS3G,GAAG4L,WAAW,kBAA4E,MAAhDjF,EAAS3G,GAAG4L,WAAW,sBAC5E,MAEAD,GAAyB,EAO/B3L,IAGE0L,IACFX,EAASF,GAETI,IACAxB,GAAqB,EAEjBpB,EAAOwD,QAAUxD,EAAOwD,MAAMC,SAChCzD,EAAO0D,gBAIX,IAAIC,EAAQ3D,EAAO4D,OAAO,YACpBjD,EAAgB,GAAGwC,cAAgBxC,EAAgB,GAAGyC,eACxDO,IACAhB,SAMRD,EAASF,GAIb,SAASqB,EAAehL,GACtB,IAAIiL,EAAahF,EAAQ1B,WAAa,QAAU,SAChD,OAAQ,GAAI,OAAQ,QAAQ5C,OAAO,SAAUuJ,EAAKrJ,GAChD,OAAOqJ,EAAI,GAAG3H,OAAO1B,GAAM0B,OAAO0H,IAAejL,EAAOkL,OAa5D,SAASC,IACP,IAAIC,EAAM5C,EAAc,GAAGI,GAEvByC,MACFlE,EAAO0D,UAEH5E,EAAQqF,yBACV9C,EAAc,GAAGI,GAAawC,IAOpC,SAASG,IACHtF,EAAQzB,aACV+D,GAAqB,EACrBuB,IAEI3C,EAAOwD,QAAUxD,EAAOwD,MAAMC,SAChCzD,EAAO0D,WAIPQ,KACFlE,EAAO0D,UA4CX,SAASd,IAUT,IAAyBjG,EARvByF,EADAD,OAAkB,EAElBE,EAAiB3B,EACjB4B,EAAe,EAMQ3F,EALPqD,EAAOQ,SAASmB,gBAAgBjB,GAMhDV,EAAOQ,SAASkB,UAAY5C,EAAQlC,aAAeD,EAAOmC,EAAQjC,YALlEqH,IACAlE,EAAOqE,MAAM,wBAAyBrE,EAAOQ,SAAS8D,WAAYtE,EAAOQ,SAAS+D,UASpF,SAASC,IACP,IAAIC,EAAK7I,EAAcyF,EAAc,GAAIC,GAErCmD,IAAOlC,IACTK,IAEI5C,EAAOwD,QAAUxD,EAAOwD,MAAMC,SAChCzD,EAAO0D,WAIXnB,EAAkBkC,EAWpB,SAASC,EAAWC,EAAOC,GACzB,IAAIC,EAAuB,EAAnB1M,UAAUN,aAA+B0B,IAAjBpB,UAAU,GAAmBA,UAAU,GAAK,EACxE2M,EAAuB,EAAnB3M,UAAUN,aAA+B0B,IAAjBpB,UAAU,GAAmBA,UAAU,GAAKwM,EAAM9M,OAAS,EACvFkN,EAAuB,EAAnB5M,UAAUN,aAA+B0B,IAAjBpB,UAAU,GAAmBA,UAAU,GAAK,EAE5E,GAAIwM,EAAME,KAAOD,EACf,OAAQC,EAAGA,EAAGE,GAGhB,GAAIJ,EAAMG,KAAOF,EACf,OAAQE,EAAGA,EAAGC,GAGhB,GAAY,EAARD,EAAID,EAAO,CACb,IAAIG,EAAIC,KAAKC,OAAOL,EAAIC,GAAK,GAE7B,OAAIH,EAAMK,GAAKJ,EACNF,EAAWC,EAAOC,EAAWC,EAAGG,EAAGD,EAAI,GAGzCL,EAAWC,EAAOC,EAAWI,EAAGF,EAAGC,EAAI,GAGhD,OAAQH,EAAYD,EAAMG,GAAKA,EAAID,EAAGD,EAAYD,EAAME,GAAKA,EAAIC,EAAGC,GAGtE,SAASb,IACP,IApaU7J,EAAS8K,EAoafC,GApaM/K,EAoayBgH,EAAc,GApa9B8D,EAoakC1D,EAnaxDpH,IAAYH,EAASgB,IAAkBiK,GAAc9K,EAAQ8K,IAoatDE,EAAczJ,EAAcyF,EAAc,GAAIC,GAE9CxC,EAAQ8C,QACVyD,GAAe,GAGjB,IAvaaC,EAAWC,EAAeC,EAuanCC,EAAe9E,EAAgB,KAAOU,EAAc,GAAK,GAvahDiE,EAuaoE3E,EAAgB,GAvazE4E,EAua6ElE,EAAc,GAva5EmE,EAuagF1G,EAAQ1B,WAta7HkI,EAAUI,wBAAwBF,EAAe,OAAS,QACtDD,IAAkBrL,EAAS,EAAIqL,EAAcG,wBAAwBF,EAAe,OAAS,SAC1FD,IAAkBrL,EAASgB,IAAoBqK,GAAeC,EAAe,aAAe,cAqajGG,EAAe3F,EAAOQ,SAAS8D,WAC/BsB,EAAa5F,EAAOQ,SAAS+D,SAEjC,GAAInD,IAAuBtC,EAAQnC,KACjCgJ,EAAe,EACfC,EAAa,MACR,CAiFP5F,EAAOkD,aAAa,WAClBhJ,EAAO2L,sBAAsB,WAC3B,IAAIC,EAAe9F,EAAOQ,SAASmB,gBAAgBjB,GAC/CqF,EAAY7L,EAAO8L,iBAAiBrF,EAAgB,IACpDsF,EAAWnH,EAAQ1B,YAAc,cAAe,iBAAmB,aAAc,iBACjF8I,EAAgBvF,EAAgB,GAAGa,GAAcyE,EAASzL,OAAO,SAAUuJ,EAAKrJ,GAClF,OAAOqJ,EAAMoC,OAAOJ,EAAUrL,GAAM0L,MAAM,GAAI,KAC7C,GAECzF,EAAgB,GAAGa,IAAesE,IAAiBI,GACrD7J,QAAQC,KAAK,0CAA4CwJ,EAAe,6BAA+BI,EAAgB,6BAA8BhK,EAAS,QAxFlK,IAAImK,EAAiBjB,EAAkBtG,EAAQlC,aAAe6I,EAM9DE,EAFmB3L,eAFD0K,EAAW1E,EAAOQ,SAASmB,gBAAiB0E,EAAiBvH,EAAQ3B,cAExC,GAEnB,GAC5BwI,EAAeV,KAAKqB,IAAIX,EAAc,GAMtCC,EAFmB5L,eAFA0K,EAAW1E,EAAOQ,SAASmB,gBAAiB0E,EAAiBvH,EAAQ3B,aAAekI,EAAaM,GAEpE,GAEtB,GAC1BC,EAAaX,KAAKsB,IAAIX,EAAYlF,GAGpC2B,EAAiB4C,KAAKsB,IAAIZ,EAActD,GACxCC,EAAe2C,KAAKqB,IAAIV,EAAYtD,GACpCtC,EAAOQ,SAAS8D,WAAaxF,EAAQtC,MAAQ6F,EAAiBsD,EAC9D3F,EAAOQ,SAAS+D,SAAWzF,EAAQtC,MAAQ8F,EAAesD,EAEtDtD,EAAetC,EAAOQ,SAAS8D,aAAYtE,EAAOQ,SAAS8D,WAAahC,GAC5E,IAAIkE,GAAiB,EAoBrB,GAlBuB,MAAnBrE,EACFqE,GAAiB,EACS,MAAjBpE,IACToE,GAAiB,GAGdA,IACC1H,EAAQxB,OACN2H,KAAKwB,IAAIzG,EAAOQ,SAAS8D,WAAanC,IAAoBrD,EAAQvB,UAA2C,IAA/ByC,EAAOQ,SAAS8D,YAAwC,IAApBnC,EACpHqE,GAAiB,GACRvB,KAAKwB,IAAIzG,EAAOQ,SAAS+D,SAAWnC,IAAkBtD,EAAQvB,UAAYyC,EAAOQ,SAAS+D,WAAa7D,GAAkB0B,IAAkB1B,KACpJ8F,GAAiB,GAGnBA,EAAiBxG,EAAOQ,SAAS8D,aAAenC,GAAmBnC,EAAOQ,SAAS+D,WAAanC,GAIhGoE,EAAgB,CAIlB,IAAIE,EAHJ1G,EAAOrB,GAAkBsC,EAAmBmF,MAAMpG,EAAOQ,SAAS8D,WAAYtE,EAAOQ,SAAS+D,UAE9FvE,EAAOqE,MAAM,iCAAkCrE,EAAOQ,SAAS8D,WAAYtE,EAAOQ,SAAS+D,SAAUpC,EAAiBC,GAGlHtD,EAAQ9B,gBACV0J,EAAezF,EAAmBpJ,OAASiH,EAAQ5B,qBAE/C8C,EAAOQ,SAAS+D,UAAYmC,GAAgBtE,EAAgBsE,GAAgBzF,EAAmBpJ,QAAUmI,EAAOQ,SAAS+D,WAAatD,EAAmBpJ,SAC3JmI,EAAOS,MAAM3B,EAAQ9B,gBAIrB8B,EAAQhC,sBACV4J,EAAe5H,EAAQ7B,0BAEnB+C,EAAOQ,SAAS8D,YAAcoC,GAAgBvE,EAAkBnC,EAAOQ,SAAS8D,YAClFtE,EAAOS,MAAM3B,EAAQhC,sBAIzBqF,EAAkBnC,EAAOQ,SAAS8D,WAClClC,EAAgBpC,EAAOQ,SAAS+D,SAChC,IAAIoC,EAAK3G,EAAOQ,SAASmB,gBAAgB3B,EAAOQ,SAAS8D,YAAcxF,EAAQlC,aAC3EgK,EAAK5G,EAAOQ,SAASmB,gBAAgB3B,EAAOQ,SAAS8D,WAAatE,EAAOrB,GAAgB9G,QAAUiH,EAAQlC,aAC3GiK,EAAQ7G,EAAOQ,SAASkB,UAC5BR,EAAea,IAAI8B,EAAe8C,EAAK,OACvCxF,EAAcY,IAAI8B,EAAegD,EAAQD,EAAK,OAGhD,OAAOJ,EAxWL1H,EAAQ1B,YACV8D,EAAea,IAAI,SAAU,QAC7BZ,EAAcY,IAAI,SAAU,UAE5Bb,EAAea,IAAI,QAAS,QAC5BZ,EAAcY,IAAI,QAAS,SAGzB9B,EAAO6G,iBACT9G,EAAO+G,iBAAiB9G,EAAO6G,gBAAiB,SAAUE,GACxD,IAAIC,EAAgBlP,YAAa+G,EAASkI,GAEtCE,KAAKC,UAAUF,KAAmBC,KAAKC,UAAUrI,KACnD9G,OAAOC,OAAO6G,EAASkI,GAEvB7G,EAAWrB,GAEX8D,OAKN5C,EAAO+G,iBAAiBrH,EAAK,WAC3B,IAAI0H,EAA0B,EAAnBjP,UAAUN,aAA+B0B,IAAjBpB,UAAU,GAAmBA,UAAU,MAC1E8I,EAAqBmG,EACrB3E,MAqGF5B,EAAWrC,GAAG,GAAGQ,KAAKI,EAAsBK,EAAM,OAASd,GAAkBgB,EAAY,IAAMA,EAAY,KAC3GkB,EAAWwG,SAAS,8BACpB1G,EAAgBqB,OAAOd,GACvBP,EAAgBqB,OAAOnB,GACvBlD,EAASkD,EAATlD,CAAqBqC,GACrBW,EAAgBqB,OAAOb,GACvBnB,EAAOQ,SAAS8D,WAAa,EAC7BtE,EAAOQ,SAAS+D,SAAW,EAc3BlD,EAAciG,GAAG,SAAUtD,GAiB3B7J,EAAQE,QAAQH,GAAQoN,GAAG,SAAUlD,GACrCpE,EAAOiC,IAAI,WAAY,WACrB9H,EAAQE,QAAQH,GAAQqN,IAAI,SAAUnD,GACtC/C,EAAckG,IAAI,SAAUvD,KAE9BhE,EAAOiC,IAAI,kBAAmBQ,GAC9BzC,EAAOiC,IAAI,iBAAkB,WAC3Bb,GAAqB,EACrBuB,MAKF3C,EAAOiC,IAAI,cAAe,WACnBnD,EAAQtC,QAITwD,EAAOQ,SAAS+D,WAAa7D,EAKjC8G,WAAW,WAET,IAAI5B,EAAalF,EACjB4B,EAAe2C,KAAKqB,IAAIV,EAAYtD,GACpCtC,EAAOQ,SAAS+D,SAAWzF,EAAQtC,MAAQ8F,EAAesD,EAC1D5F,EAAOrB,GAAkBsC,EAAmBmF,MAAMpG,EAAOQ,SAAS8D,WAAYtE,EAAOQ,SAAS+D,UAC9FnC,EAAgBpC,EAAOQ,SAAS+D,SAChCrD,EAAea,IAAI8B,EAAe,IAClC1C,EAAcY,IAAI8B,EAAe,IACjC7D,EAAOqE,MAAM,mBAETrE,EAAOwD,QAAUxD,EAAOwD,MAAMC,SAChCzD,EAAO0D,YAhBT1D,EAAOqE,MAAM,sBAmDjBrE,EAAO4D,OAAO,WACgC,mBAAjC1J,EAAO2L,sBAChB3L,EAAO2L,sBAAsBrB,GAE7BA,aAkJdrK,EAAQE,QAAQO,SAAS6M,MAAMzF,OAAO,yfAEhB,oBAAXvE,QAA0BA,OAAOiK,UAC1CjK,OAAOiK,QAAUlK,EAAemK,MA5oBpC,CA8oBGzN,OAAQA,OAAOC","file":"angular-vs-repeat.min.js","sourcesContent":["function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _slicedToArray(arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return _sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }\n\n/**\n * Copyright Kamil PÄ™kala http://github.com/kamilkp\n * Angular Virtual Scroll Repeat v2.0.9 2018/04/02\n */\n\n/* global console, setTimeout, module */\n(function (window, angular) {\n  /**\n   * DESCRIPTION:\n   * vsRepeat directive stands for Virtual Scroll Repeat. It turns a standard ngRepeated set of elements in a scrollable container\n   * into a component, where the user thinks he has all the elements rendered and all he needs to do is scroll (without any kind of\n   * pagination - which most users loath) and at the same time the browser isn't overloaded by that many elements/angular bindings etc.\n   * The directive renders only so many elements that can fit into current container's clientHeight/clientWidth.\n    * LIMITATIONS:\n   * - current version only supports an Array as a right-hand-side object for ngRepeat\n   * - all rendered elements must have the same height/width or the sizes of the elements must be known up front\n    * USAGE:\n   * In order to use the vsRepeat directive you need to place a vs-repeat attribute on a direct parent of an element with ng-repeat\n   * example:\n   * <div vs-repeat=\"options\">\n   *      <div ng-repeat=\"item in someArray\">\n   *          <!-- content -->\n   *      </div>\n   * </div>\n    * or:\n   * <div vs-repeat=\"options\">\n   *      <div ng-repeat-start=\"item in someArray\">\n   *          <!-- content -->\n   *      </div>\n   *      <div>\n   *         <!-- something in the middle -->\n   *      </div>\n   *      <div ng-repeat-end>\n   *          <!-- content -->\n   *      </div>\n   * </div>\n    * You can also measure the single element's height/width (including all paddings and margins), and then speficy it as a value\n   * of the option's `size` property. This can be used if one wants to override the automatically computed element size.\n   * example:\n   * <div vs-repeat=\"{size: 50}\"> <!-- the specified element height is 50px -->\n   *      <div ng-repeat=\"item in someArray\">\n   *          <!-- content -->\n   *      </div>\n   * </div>\n    * IMPORTANT!\n    * - the vsRepeat directive must be applied to a direct parent of an element with ngRepeat\n   * - the value of vsRepeat attribute is the single element's height/width measured in pixels. If none provided, the directive\n   *      will compute it automatically\n    * OPTIONAL PARAMETERS (attributes):\n   * vs-repeat-container=\"selector\" - selector for element containing ng-repeat. (defaults to the current element)\n    * OPTIONS:\n   * Options shall be passed as an object to the `vs-repeat` attribute e.g.: `<div vs-repeat=\"{scrollParent: 'window', size: 20}\"></div>`\n   *\n   * Available options:\n   * `horizontal` - stack repeated elements horizontally instead of vertically\n   * `offset-before` - top/left offset in pixels (defaults to 0)\n   * `offset-after` - bottom/right offset in pixels (defaults to 0)\n   * `scroll-margin` - how many pixels ahead should elements be rendered while scrolling\n   * `latch` - if true, elements will be rendered gradually but won't be removed when scrolled away (defaults to false)\n    * `size` - a property name of the items in collection that is a number denoting the element size (in pixels)\n   * `autoresize` - use this attribute without vs-size and without specifying element's size. The automatically computed element style will\n   *              readjust upon window resize if the size is dependable on the viewport size\n   * `scrolled-to-end` - callback will be called when the last item of the list is rendered\n   * `scrolled-to-end-offset` - set this number to trigger the scrolledToEnd callback n items before the last gets rendered\n   * `scrolled-to-beginning` - callback will be called when the first item of the list is rendered\n   * `scrolled-to-beginning-offset` - set this number to trigger the scrolledToBeginning callback n items before the first gets rendered\n    * EVENTS:\n   * - `vsRepeatTrigger` - an event the directive listens for to manually trigger reinitialization\n   * - `vsRepeatReinitialized` - an event the directive emits upon reinitialization done\n   */\n  var closestElement = angular.element.prototype.closest;\n\n  if (!closestElement) {\n    var matchingFunction = ['matches', 'matchesSelector', 'webkitMatches', 'webkitMatchesSelector', 'msMatches', 'msMatchesSelector', 'mozMatches', 'mozMatchesSelector'].reduce(function (res, prop) {\n      var _res;\n\n      return (_res = res) !== null && _res !== void 0 ? _res : prop in document.documentElement ? prop : null;\n    }, null);\n\n    closestElement = function closestElement(selector) {\n      var _el;\n\n      var el = this[0].parentNode;\n\n      while (el !== document.documentElement && el != null && !el[matchingFunction](selector)) {\n        el = el.parentNode;\n      }\n\n      if ((_el = el) === null || _el === void 0 ? void 0 : _el[matchingFunction](selector)) {\n        return angular.element(el);\n      }\n\n      return angular.element();\n    };\n  }\n\n  function getWindowScroll() {\n    var _ref, _document$documentEle, _ref2, _document$documentEle2;\n\n    if ('pageYOffset' in window) {\n      return {\n        scrollTop: window.pageYOffset,\n        scrollLeft: window.pageXOffset\n      };\n    }\n\n    return {\n      scrollTop: (_ref = (_document$documentEle = document.documentElement.scrollTop) !== null && _document$documentEle !== void 0 ? _document$documentEle : document.body.scrollTop) !== null && _ref !== void 0 ? _ref : 0,\n      scrollLeft: (_ref2 = (_document$documentEle2 = document.documentElement.scrollLeft) !== null && _document$documentEle2 !== void 0 ? _document$documentEle2 : document.body.scrollLeft) !== null && _ref2 !== void 0 ? _ref2 : 0\n    };\n  }\n\n  function getClientSize(element, sizeProp) {\n    if (element === window) {\n      return sizeProp === 'clientWidth' ? window.innerWidth : window.innerHeight;\n    }\n\n    return element[sizeProp];\n  }\n\n  function getScrollPos(element, scrollProp) {\n    return element === window ? getWindowScroll()[scrollProp] : element[scrollProp];\n  }\n\n  function getScrollOffset(vsElement, scrollElement, isHorizontal) {\n    var vsPos = vsElement.getBoundingClientRect()[isHorizontal ? 'left' : 'top'];\n    var scrollPos = scrollElement === window ? 0 : scrollElement.getBoundingClientRect()[isHorizontal ? 'left' : 'top'];\n    var scrollValue = (scrollElement === window ? getWindowScroll() : scrollElement)[isHorizontal ? 'scrollLeft' : 'scrollTop'];\n    return vsPos - scrollPos + scrollValue;\n  }\n\n  function analyzeNgRepeatUsage(element) {\n    var options = ['ng-repeat', 'data-ng-repeat', 'ng-repeat-start', 'data-ng-repeat-start'];\n\n    for (var _i = 0; _i < options.length; _i++) {\n      var opt = options[_i];\n\n      if (element.attr(opt)) {\n        return [opt, element.attr(opt), opt.indexOf('-start') >= 0];\n      }\n    }\n\n    throw new Error('angular-vs-repeat: no ng-repeat directive on a child element');\n  }\n\n  function printDeprecationWarning($element, message) {\n    console.warn(\"vs-repeat deprecation: \".concat(message), $element[0]);\n  }\n\n  function attrDeprecated(attrname, $element) {\n    printDeprecationWarning($element, \"\".concat(attrname, \" attribute is deprecated. Pass the options object to vs-repeat attribute instead https://github.com/kamilkp/angular-vs-repeat#options\"));\n  }\n\n  var defaultOptions = {\n    latch: false,\n    container: null,\n    scrollParent: null,\n    size: null,\n    offsetBefore: 0,\n    offsetAfter: 0,\n    scrolledToBeginning: angular.noop,\n    scrolledToEnd: angular.noop,\n    scrolledToBeginningOffset: 0,\n    scrolledToEndOffset: 0,\n    scrollMargin: 0,\n    horizontal: false,\n    autoresize: false,\n    hunked: false,\n    hunkSize: 0\n  };\n  var vsRepeatModule = angular.module('vs-repeat', []).directive('vsRepeat', ['$compile', '$parse', function ($compile, $parse) {\n    return {\n      restrict: 'A',\n      scope: true,\n      compile: function compile(compileElement, compileAttrs) {\n        var compileRepeatContainer = 'vsRepeatContainer' in compileAttrs ? angular.element(compileElement[0].querySelector(compileAttrs.vsRepeatContainer)) : compileElement;\n        var repeatContainerChildren = compileRepeatContainer.children();\n        var ngRepeatChild = repeatContainerChildren.eq(0);\n        var childCloneHtml = ngRepeatChild[0].outerHTML;\n        var collectionName = '$vs_collection'; // TODO: make configurable?\n\n        ['vsSize', 'vsScrollParent', 'vsSizeProperty', 'vsHorizontal', 'vsOffsetBefore', 'vsOffsetAfter', 'vsScrolledToEndOffset', 'vsScrolledToBeginningOffset', 'vsExcess', 'vsScrollMargin'].forEach(function (attrname) {\n          if (attrname in compileAttrs) {\n            attrDeprecated(attrname, compileElement);\n          }\n        });\n\n        var _analyzeNgRepeatUsage = analyzeNgRepeatUsage(ngRepeatChild),\n            _analyzeNgRepeatUsage2 = _slicedToArray(_analyzeNgRepeatUsage, 3),\n            originalNgRepeatAttr = _analyzeNgRepeatUsage2[0],\n            ngRepeatExpression = _analyzeNgRepeatUsage2[1],\n            isNgRepeatStart = _analyzeNgRepeatUsage2[2];\n\n        var expressionMatches = /^\\s*(\\S+)\\s+in\\s+([\\S\\s]+?)(track\\s+by\\s+\\S+)?$/.exec(ngRepeatExpression);\n\n        var _expressionMatches = _slicedToArray(expressionMatches, 4),\n            lhs = _expressionMatches[1],\n            rhs = _expressionMatches[2],\n            rhsSuffix = _expressionMatches[3];\n\n        if (isNgRepeatStart) {\n          var index = 0;\n          var repeaterElement = repeatContainerChildren.eq(index);\n\n          while (repeaterElement.attr('ng-repeat-end') == null && repeaterElement.attr('data-ng-repeat-end') == null) {\n            index++;\n            repeaterElement = repeatContainerChildren.eq(index);\n            childCloneHtml += repeaterElement[0].outerHTML;\n          }\n        }\n\n        compileRepeatContainer.empty();\n        return {\n          pre: function pre($scope, $element, $attrs) {\n            var _$scope$$eval;\n\n            function _parseSize(options) {\n              if (typeof options.size === 'number') {\n                options.getSize = function () {\n                  return options.size;\n                };\n              } else {\n                var parsed = $parse(String(options.size));\n\n                options.getSize = function (item) {\n                  return parsed($scope, _defineProperty({}, lhs, item));\n                };\n              }\n            }\n\n            $scope.vsRepeat = {\n              options: _extends({}, defaultOptions, (_$scope$$eval = $scope.$eval($attrs.vsRepeat)) !== null && _$scope$$eval !== void 0 ? _$scope$$eval : {})\n            };\n            var options = $scope.vsRepeat.options;\n\n            _parseSize(options);\n\n            var repeatContainer = angular.isDefined($attrs.vsRepeatContainer) ? angular.element($element[0].querySelector($attrs.vsRepeatContainer)) : $element;\n            var childClone = angular.element(childCloneHtml);\n            var childTagName = childClone[0].tagName.toLowerCase();\n            var originalCollection = [];\n            var originalLength;\n            var $beforeContent = angular.element('<' + childTagName + ' class=\"vs-repeat-before-content\"></' + childTagName + '>');\n            var $afterContent = angular.element('<' + childTagName + ' class=\"vs-repeat-after-content\"></' + childTagName + '>');\n            var autosizingRequired = options.size === null;\n            var $scrollParent = options.scrollParent ? options.scrollParent === 'window' ? angular.element(window) : closestElement.call(repeatContainer, options.scrollParent) : repeatContainer;\n            var clientSize = options.horizontal ? 'clientWidth' : 'clientHeight';\n            var offsetSize = options.horizontal ? 'offsetWidth' : 'offsetHeight';\n            var scrollSize = options.horizontal ? 'scrollWidth' : 'scrollHeight';\n            var scrollPos = options.horizontal ? 'scrollLeft' : 'scrollTop';\n            $scope.vsRepeat.totalSize = 0;\n\n            if ($scrollParent.length === 0) {\n              throw 'Specified scroll parent selector did not match any element';\n            }\n\n            $scope.vsRepeat.$scrollParent = $scrollParent;\n            $scope.vsRepeat.sizesCumulative = [];\n\n            if (options.debug) {\n              var $debugParent = options.scrollParent === 'window' ? angular.element(document.body) : $scrollParent;\n              var $debug = angular.element('<div class=\"vs-repeat-debug-element\"></div>');\n              $debug.css('position', options.scrollParent === 'window' ? 'fixed' : 'absolute');\n              $debugParent.append($debug);\n              $scope.$on('$destroy', function () {\n                $debug.remove();\n              });\n            }\n\n            var measuredSize = getClientSize($scrollParent[0], clientSize) || 50;\n\n            if (options.horizontal) {\n              $beforeContent.css('height', '100%');\n              $afterContent.css('height', '100%');\n            } else {\n              $beforeContent.css('width', '100%');\n              $afterContent.css('width', '100%');\n            }\n\n            if ($attrs.vsRepeatOptions) {\n              $scope.$watchCollection($attrs.vsRepeatOptions, function (newOpts) {\n                var mergedOptions = _extends({}, options, newOpts);\n\n                if (JSON.stringify(mergedOptions) !== JSON.stringify(options)) {\n                  Object.assign(options, newOpts);\n\n                  _parseSize(options);\n\n                  reinitialize();\n                }\n              });\n            }\n\n            $scope.$watchCollection(rhs, function () {\n              var coll = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n              originalCollection = coll;\n              refresh();\n            });\n\n            function refresh() {\n              if (!originalCollection || originalCollection.length < 1) {\n                $scope[collectionName] = [];\n                originalLength = 0;\n                $scope.vsRepeat.sizesCumulative = [0];\n              } else {\n                originalLength = originalCollection.length;\n\n                if (options.size) {\n                  _mapSize();\n                } else {\n                  getFromMeasured();\n                }\n              }\n\n              reinitialize();\n            }\n\n            function _mapSize() {\n              var hardSize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n              var sizes = originalCollection.map(function (item) {\n                var _hardSize;\n\n                return (_hardSize = hardSize) !== null && _hardSize !== void 0 ? _hardSize : options.getSize(item);\n              });\n              var sum = 0;\n              $scope.vsRepeat.sizesCumulative = [0].concat(_toConsumableArray(sizes.map(function (size) {\n                return sum += size;\n              })));\n            }\n\n            function getFromMeasured() {\n              if (autosizingRequired) {\n                $scope.$$postDigest(function () {\n                  if (repeatContainer[0].offsetHeight || repeatContainer[0].offsetWidth) {\n                    // element is visible\n                    var children = repeatContainer.children();\n                    var i = 0;\n                    var gotSomething = false;\n                    var insideStartEndSequence = false;\n\n                    while (i < children.length) {\n                      if (children[i].attributes[originalNgRepeatAttr] != null || insideStartEndSequence) {\n                        if (!gotSomething) {\n                          measuredSize = 0;\n                        }\n\n                        gotSomething = true;\n\n                        if (children[i][offsetSize]) {\n                          measuredSize += children[i][offsetSize];\n                        }\n\n                        if (isNgRepeatStart) {\n                          if (children[i].attributes['ng-repeat-end'] != null || children[i].attributes['data-ng-repeat-end'] != null) {\n                            break;\n                          } else {\n                            insideStartEndSequence = true;\n                          }\n                        } else {\n                          break;\n                        }\n                      }\n\n                      i++;\n                    }\n\n                    if (gotSomething) {\n                      _mapSize(measuredSize);\n\n                      reinitialize();\n                      autosizingRequired = false;\n\n                      if ($scope.$root && !$scope.$root.$$phase) {\n                        $scope.$digest();\n                      }\n                    }\n                  } else {\n                    var dereg = $scope.$watch(function () {\n                      if (repeatContainer[0].offsetHeight || repeatContainer[0].offsetWidth) {\n                        dereg();\n                        getFromMeasured();\n                      }\n                    });\n                  }\n                });\n              } else {\n                _mapSize(measuredSize);\n              }\n            }\n\n            function getLayoutProps(value) {\n              var layoutProp = options.horizontal ? 'width' : 'height';\n              return ['', 'min-', 'max-'].reduce(function (acc, prop) {\n                return acc[\"\".concat(prop).concat(layoutProp)] = value, acc;\n              }, {});\n            }\n\n            childClone.eq(0).attr(originalNgRepeatAttr, lhs + ' in ' + collectionName + (rhsSuffix ? ' ' + rhsSuffix : ''));\n            childClone.addClass('vs-repeat-repeated-element');\n            repeatContainer.append($beforeContent);\n            repeatContainer.append(childClone);\n            $compile(childClone)($scope);\n            repeatContainer.append($afterContent);\n            $scope.vsRepeat.startIndex = 0;\n            $scope.vsRepeat.endIndex = 0;\n\n            function scrollHandler() {\n              var pos = $scrollParent[0][scrollPos];\n\n              if (updateInnerCollection()) {\n                $scope.$digest();\n\n                if (options._ensureScrollIntegrity) {\n                  $scrollParent[0][scrollPos] = pos;\n                }\n              }\n            }\n\n            $scrollParent.on('scroll', scrollHandler);\n\n            function onWindowResize() {\n              if (options.autoresize) {\n                autosizingRequired = true;\n                getFromMeasured();\n\n                if ($scope.$root && !$scope.$root.$$phase) {\n                  $scope.$digest();\n                }\n              }\n\n              if (updateInnerCollection()) {\n                $scope.$digest();\n              }\n            }\n\n            angular.element(window).on('resize', onWindowResize);\n            $scope.$on('$destroy', function () {\n              angular.element(window).off('resize', onWindowResize);\n              $scrollParent.off('scroll', scrollHandler);\n            });\n            $scope.$on('vsRepeatTrigger', refresh);\n            $scope.$on('vsRepeatResize', function () {\n              autosizingRequired = true;\n              getFromMeasured();\n            });\n\n            var _prevStartIndex, _prevEndIndex, _minStartIndex, _maxEndIndex;\n\n            $scope.$on('vsRenderAll', function () {\n              if (!options.latch) {\n                return;\n              }\n\n              if ($scope.vsRepeat.endIndex === originalLength) {\n                $scope.$emit('vsRenderAllDone');\n                return;\n              }\n\n              setTimeout(function () {\n                // var __endIndex = Math.min($scope.vsRepeat.endIndex + (quantum || 1), originalLength);\n                var __endIndex = originalLength;\n                _maxEndIndex = Math.max(__endIndex, _maxEndIndex);\n                $scope.vsRepeat.endIndex = options.latch ? _maxEndIndex : __endIndex;\n                $scope[collectionName] = originalCollection.slice($scope.vsRepeat.startIndex, $scope.vsRepeat.endIndex);\n                _prevEndIndex = $scope.vsRepeat.endIndex;\n                $beforeContent.css(getLayoutProps(0));\n                $afterContent.css(getLayoutProps(0));\n                $scope.$emit('vsRenderAllDone');\n\n                if ($scope.$root && !$scope.$root.$$phase) {\n                  $scope.$digest();\n                }\n              });\n            });\n\n            function reinitialize() {\n              _prevStartIndex = void 0;\n              _prevEndIndex = void 0;\n              _minStartIndex = originalLength;\n              _maxEndIndex = 0;\n              updateTotalSize($scope.vsRepeat.sizesCumulative[originalLength]);\n              updateInnerCollection();\n              $scope.$emit('vsRepeatReinitialized', $scope.vsRepeat.startIndex, $scope.vsRepeat.endIndex);\n            }\n\n            function updateTotalSize(size) {\n              $scope.vsRepeat.totalSize = options.offsetBefore + size + options.offsetAfter;\n            }\n\n            var _prevClientSize;\n\n            function reinitOnClientHeightChange() {\n              var ch = getClientSize($scrollParent[0], clientSize);\n\n              if (ch !== _prevClientSize) {\n                reinitialize();\n\n                if ($scope.$root && !$scope.$root.$$phase) {\n                  $scope.$digest();\n                }\n              }\n\n              _prevClientSize = ch;\n            }\n\n            $scope.$watch(function () {\n              if (typeof window.requestAnimationFrame === 'function') {\n                window.requestAnimationFrame(reinitOnClientHeightChange);\n              } else {\n                reinitOnClientHeightChange();\n              }\n            });\n\n            function binaryFind(array, threshold) {\n              var a = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n              var b = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : array.length - 1;\n              var d = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n\n              if (array[a] === threshold) {\n                return [a, a, d];\n              }\n\n              if (array[b] === threshold) {\n                return [b, b, d];\n              }\n\n              if (b - a > 1) {\n                var m = Math.floor((a + b) / 2);\n\n                if (array[m] > threshold) {\n                  return binaryFind(array, threshold, a, m, d + 1);\n                }\n\n                return binaryFind(array, threshold, m, b, d + 1);\n              }\n\n              return [threshold > array[b] ? b : a, threshold < array[a] ? a : b, d];\n            }\n\n            function updateInnerCollection() {\n              var $scrollPosition = getScrollPos($scrollParent[0], scrollPos);\n              var $clientSize = getClientSize($scrollParent[0], clientSize);\n\n              if (options.debug) {\n                $clientSize /= 2;\n              }\n\n              var scrollOffset = repeatContainer[0] === $scrollParent[0] ? 0 : getScrollOffset(repeatContainer[0], $scrollParent[0], options.horizontal);\n              var __startIndex = $scope.vsRepeat.startIndex;\n              var __endIndex = $scope.vsRepeat.endIndex;\n\n              if (autosizingRequired && !options.size) {\n                __startIndex = 0;\n                __endIndex = 1;\n              } else {\n                _warnMismatch();\n\n                var relativeScroll = $scrollPosition - options.offsetBefore - scrollOffset;\n\n                var _binaryFind = binaryFind($scope.vsRepeat.sizesCumulative, relativeScroll - options.scrollMargin);\n\n                var _binaryFind2 = _slicedToArray(_binaryFind, 1);\n\n                __startIndex = _binaryFind2[0];\n                __startIndex = Math.max(__startIndex, 0);\n\n                var _binaryFind3 = binaryFind($scope.vsRepeat.sizesCumulative, relativeScroll + options.scrollMargin + $clientSize, __startIndex);\n\n                var _binaryFind4 = _slicedToArray(_binaryFind3, 2);\n\n                __endIndex = _binaryFind4[1];\n                __endIndex = Math.min(__endIndex, originalLength);\n              }\n\n              _minStartIndex = Math.min(__startIndex, _minStartIndex);\n              _maxEndIndex = Math.max(__endIndex, _maxEndIndex);\n              $scope.vsRepeat.startIndex = options.latch ? _minStartIndex : __startIndex;\n              $scope.vsRepeat.endIndex = options.latch ? _maxEndIndex : __endIndex; // Move to the end of the collection if we are now past it\n\n              if (_maxEndIndex < $scope.vsRepeat.startIndex) $scope.vsRepeat.startIndex = _maxEndIndex;\n              var digestRequired = false;\n\n              if (_prevStartIndex == null) {\n                digestRequired = true;\n              } else if (_prevEndIndex == null) {\n                digestRequired = true;\n              }\n\n              if (!digestRequired) {\n                if (options.hunked) {\n                  if (Math.abs($scope.vsRepeat.startIndex - _prevStartIndex) >= options.hunkSize || $scope.vsRepeat.startIndex === 0 && _prevStartIndex !== 0) {\n                    digestRequired = true;\n                  } else if (Math.abs($scope.vsRepeat.endIndex - _prevEndIndex) >= options.hunkSize || $scope.vsRepeat.endIndex === originalLength && _prevEndIndex !== originalLength) {\n                    digestRequired = true;\n                  }\n                } else {\n                  digestRequired = $scope.vsRepeat.startIndex !== _prevStartIndex || $scope.vsRepeat.endIndex !== _prevEndIndex;\n                }\n              }\n\n              if (digestRequired) {\n                $scope[collectionName] = originalCollection.slice($scope.vsRepeat.startIndex, $scope.vsRepeat.endIndex); // Emit the event\n\n                $scope.$emit('vsRepeatInnerCollectionUpdated', $scope.vsRepeat.startIndex, $scope.vsRepeat.endIndex, _prevStartIndex, _prevEndIndex);\n                var triggerIndex;\n\n                if (options.scrolledToEnd) {\n                  triggerIndex = originalCollection.length - options.scrolledToEndOffset;\n\n                  if ($scope.vsRepeat.endIndex >= triggerIndex && _prevEndIndex < triggerIndex || originalCollection.length && $scope.vsRepeat.endIndex === originalCollection.length) {\n                    $scope.$eval(options.scrolledToEnd);\n                  }\n                }\n\n                if (options.scrolledToBeginning) {\n                  triggerIndex = options.scrolledToBeginningOffset;\n\n                  if ($scope.vsRepeat.startIndex <= triggerIndex && _prevStartIndex > $scope.vsRepeat.startIndex) {\n                    $scope.$eval(options.scrolledToBeginning);\n                  }\n                }\n\n                _prevStartIndex = $scope.vsRepeat.startIndex;\n                _prevEndIndex = $scope.vsRepeat.endIndex;\n                var o1 = $scope.vsRepeat.sizesCumulative[$scope.vsRepeat.startIndex] + options.offsetBefore;\n                var o2 = $scope.vsRepeat.sizesCumulative[$scope.vsRepeat.startIndex + $scope[collectionName].length] + options.offsetBefore;\n                var total = $scope.vsRepeat.totalSize;\n                $beforeContent.css(getLayoutProps(o1 + 'px'));\n                $afterContent.css(getLayoutProps(total - o2 + 'px'));\n              }\n\n              return digestRequired;\n            }\n\n            function _warnMismatch() {\n              $scope.$$postDigest(function () {\n                window.requestAnimationFrame(function () {\n                  var expectedSize = $scope.vsRepeat.sizesCumulative[originalLength];\n                  var compStyle = window.getComputedStyle(repeatContainer[0]);\n                  var paddings = options.horizontal ? ['paddingLeft', 'paddingRight'] : ['paddingTop', 'paddingBottom'];\n                  var containerSize = repeatContainer[0][scrollSize] - paddings.reduce(function (acc, prop) {\n                    return acc + Number(compStyle[prop].slice(0, -2));\n                  }, 0);\n\n                  if (repeatContainer[0][scrollSize] && expectedSize !== containerSize) {\n                    console.warn('vsRepeat: size mismatch. Expected size ' + expectedSize + 'px whereas actual size is ' + containerSize + 'px. Fix vsSize on element:', $element[0]);\n                  }\n                });\n              });\n            }\n          }\n        };\n      }\n    };\n  }]);\n  angular.element(document.head).append(\"<style id=\\\"angular-vs-repeat-style\\\">\\n\\t  \\t.vs-repeat-debug-element {\\n        top: 50%;\\n        left: 0;\\n        right: 0;\\n        height: 1px;\\n        background: red;\\n        z-index: 99999999;\\n        box-shadow: 0 0 20px red;\\n      }\\n\\n      .vs-repeat-debug-element + .vs-repeat-debug-element {\\n        display: none;\\n      }\\n\\n      .vs-repeat-before-content,\\n      .vs-repeat-after-content {\\n        border: none !important;\\n        padding: 0 !important;\\n      }\\n    </style>\");\n\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = vsRepeatModule.name;\n  }\n})(window, window.angular);\n//# sourceMappingURL=angular-vs-repeat.js.map\n"]}